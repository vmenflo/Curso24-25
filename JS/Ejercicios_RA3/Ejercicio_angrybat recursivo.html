<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AngryBATS</title>
</head>
<body>
    <h1>AngryBATS</h1>
    <p id="texto"></p>
    <script>
        let bat = [
                ["P","P","G","H","H","R"],
                ["P","P","G","H","H","G"],
                ["P","G","M","H","H","G"],
                ["G","R","M","H","G","G"],
                ["R","R","H","H","G","P"]
                ];

        console.log(bat);
        // Copia de la matriz original
        let bat2 = JSON.parse(JSON.stringify(bat));
        angrybats(2,2);
        console.log(bat2);
        mostrarMatriz(bat2,"texto");
        
        // Función 
        function angrybats(i, j) {
            let murcielago = "M";
            let murcielago_infectado = "m"; 
            let humanos = "H";
            let muerto = "*"; 

            if(i<0 || j<0 || i >= bat2.length || j >= bat2[i].length){
                return;
            }
            let valor = bat2[i][j];

            if(valor!==murcielago && valor!==humanos){
            return;
           }
           if(valor===humanos){
            bat2[i][j]=muerto;
           }
           if(valor===murcielago){
            bat2[i][j]=murcielago_infectado;
           }

           // Arriba
            
                angrybats(i-1,j);
            
           // Derecha
           
                angrybats(i,j+1);
            
           // Abajo
           
                angrybats(i+1,j);
            
           // Izquierda
          
                angrybats(i,j-1);
            
        }

        // Función para mostrar la matriz en HTML
        function mostrarMatriz(matriz, id) {
            let contenido = ""; // Creamos una variable para almacenar el contenido

            for (let i = 0; i < matriz.length; i++) {
                for (let j = 0; j < matriz[i].length; j++) {
                    contenido += "<span>" + matriz[i][j] + " | " + " </span>";
                }
                contenido += "<br/>"; // Cambiar de fila
            }

            document.getElementById(id).innerHTML = contenido;
        }
    </script>
</body>
</html>
