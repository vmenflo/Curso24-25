<!DOCTYPE html>
<html>
<head>
  <title>PANDEMIC</title>
</head>
<body>

  <p id="txt"><p>

  <script>
let biocenosis =[
                ['P','P','G','H','H','R'],
                ['P','P','G','H','H','G'],
                ['P','G','R','H','H','G'],
                ['G','R','R','H','G','G'],
                ['R','R','H','H','G','P']];
// Declaramos una nueva array haciendo una copiando los mismos datos
let biocenosis2 = JSON.parse(JSON.stringify(biocenosis));
console.log(biocenosis);
//pandemic(0,0);
pandemic(4,2);
console.log(biocenosis2); // mostramos la matriz que hemos cambiado
mostrarMatriz(biocenosis,"txt");
mostrarMatriz(biocenosis2,"txt");



function pandemic(x,y){

    // Si la celda ya está vacía, se va
    if (biocenosis2[x][y] === "") {
        return;
    }
    
    // Guardar el valor en una variable para compararla
    let valor = biocenosis2[x][y];

    // Resetear posición actual
    biocenosis2[x][y] = "";

    //Buscamos en las vecinas
     // D.S.I
     if(x-1>=0 && y-1>=0){
        if(biocenosis2[x-1][y-1]===valor){
            pandemic(x-1,y-1);
        }
    }
    // biocenosisiba
    if(x-1>=0){
        if(biocenosis2[x-1][y]===valor){
            pandemic(x-1,y);
        }
    }
    // D S D
    if(x-1>=0 && y+1<biocenosis2[x].length){
        if(biocenosis2[x-1][y+1]===valor){
            pandemic(x-1,y+1);
        }
    }
    // Derecha
    if( y+1<biocenosis2[x].length){
        if(biocenosis2[x][y+1]===valor){
            pandemic(x,y+1);
        }
    }
    // D.I.D
    if( x+1<biocenosis2.length && y+1<biocenosis2[x+1].length){
        if(biocenosis2[x+1][y+1]===valor){
            pandemic(x+1,y+1);
        }
    }
    // Abajo
    if( x+1<biocenosis2.length){
        if(biocenosis2[x+1][y]===valor){
            pandemic(x+1,y);
        }
    }
    // D.S.I
    if( x+1<biocenosis2.length && y-1>=0){
        if(biocenosis2[x+1][y-1]===valor){
            pandemic(x+1,y-1);
        }
    }
    // Izquierda
    if(y-1>=0){
        if(biocenosis2[x][y-1]===valor){
            pandemic(x,y-1);
        }
    }
}
// Función para mostrar una matriz con span
function mostrarMatriz(matriz, id) {
    let contenido = ""; // Creamos una variable para almacenar el contenido

    for (let i = 0; i < matriz.length; i++) {
        for (let j = 0; j < matriz[i].length; j++) { 
            contenido += "<span>" + matriz[i][j] +" | "+" </span>";
        }
        contenido += "<br/>"; // cambiar de fila
    }

    document.getElementById(id).innerHTML += contenido;
}



  </script>

</body>
</html>